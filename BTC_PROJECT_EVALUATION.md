# 🚀 BTC 전략 마이닝 엔진: 기술 평가 및 자문 가이드 (Technical Paper)

본 문서는 **전략 자동 생성 및 백테스팅 엔진(V3)**의 알고리즘 구동 원리와 기술적 성숙도를 평가하고, 향후 실제 운용을 위한 전문적인 자문을 받기 위해 작성되었습니다.

---

## 1. 프로젝트 개요 (Project Overview)

본 프로젝트는 비트코인(BTC) 5분봉 데이터를 기반으로, 수만 가지의 기술적 지표 조합 중 **최상의 손익비와 견고성(Robustness)**을 가진 전략을 스스로 찾아내는 **유전 알고리즘 기반 전략 채굴 엔진**입니다.

---

## 2. 핵심 기술 스택 및 알고리즘 (Core Technology)

### 2.1 하이브리드 전략 컴포지션 (Hybrid Strategy Logic)

- **대칭형 롱/숏 스위칭 (L/S Symmetry)**: 롱 진입 조건이 깨지면 즉시 숏으로 스위칭하거나 그 반대로 작동하여 하락장에서도 수익을 낼 수 있는 구조입니다.
- **관망 필터 (Neutral Filter / Out-of-market)**: 단순히 롱/숏을 반복하는 것이 아니라, 시장이 불확실할 때 진입을 차단하고 포지션을 정리하는 '제3의 필터'가 강제로 결합되어 리스크를 관리합니다.

### 2.2 고성능 벡터화 엔진 (Vectorized Backtesting)

- **VectorBT 사용**: 루프 방식이 아닌 행렬 연산 기반의 백테스팅을 통해 수천 개의 전략을 단 몇 초 만에 처리합니다.
- **Numba 기반 최적화**: 손절(SL) 및 익절(TP) 계산에 GPU 가속급의 속도를 제공하는 Numba 컴파일러를 활용합니다.

### 2.3 다단계 검증 체계 (Walk-Forward Validation)

- **학습 데이터 (Train, 70%)**: 과거 데이터를 통해 전략의 가설을 수립합니다.
- **검증 데이터 (OOS - Out Of Sample, 30%)**: 한 번도 보지 못한 미래 데이터(OOS)에 전략을 대입하여 **과적합(Overfitting)** 여부를 즉시 판별합니다. OOS 수익률이 마이너스이거나 선방하지 못하는 전략은 리더보드에서 즉시 제거됩니다.

---

## 3. 독창적 평가 지표 (Scoring Metrics)

단순 수익률이 아닌, 실전 운용을 고려한 **'Robustness Score'**를 사용합니다.

$$Score = \left( \frac{Return}{Max(MDD, 5\%)} \right) \times \log_{10}(Trades)$$

- **리스크 가중치**: MDD(최대 낙폭)가 낮을수록 점수가 기하급수적으로 상승합니다.
- **통계적 신뢰도**: 거래 횟수(Trades)가 많을수록 운이 아닌 실력으로 판단하여 가산점을 부여합니다 ($\log_{10}$ 스케일 적용).
- **엄격한 청산 필터**: 100% 이상의 MDD(레버리지 포함)가 발생하는 전략은 자산의 완전 파산을 의미하므로 리더보드 진입을 전면 차단합니다.

---

## 4. 자문 및 평가를 위한 주요 질문 (Key Questions for Advisors)

1.  **과적합(Overfitting) 방지 전략**: 현재 70:30 OOS 테스트 외에 몬테카를로 시뮬레이션(Monte Carlo)이나 워크 포워드 분석(Walk-forward)의 단계를 더 세분화할 필요가 있는가?
2.  **슬리피지 및 거래 비용**: 현재 0.04%의 거래 수수료를 적용 중이나, 슬리피지(Slippage)를 고려한 보수적 시뮬레이션을 위해 어느 정도의 추가 마진을 보아야 하는가?
3.  **포트폴리오 다각화**: 단일 전략이 아닌, 리더보드 Top 5 전략을 가중 평균하여 운용하는 '앙상블(Ensemble) 기법' 도입 시 리스크 분산 효과가 유의미할 것인가?
4.  **실시간 모니터링**: 현재의 엔진을 실거래 API(Binance, Upbit)와 연동할 때, 지연 시간(Latency) 이슈를 방지하기 위한 최소한의 아키텍처는 무엇인가?

---

## 5. 향후 로드맵 (Future Roadmap)

1.  **진화 알고리즘 고도화**: 단순 무작위 생성을 넘어, 성과가 좋은 로직끼리 교배(Crossover)하고 변이(Mutation)하는 완전한 유전 알고리즘 도입.
2.  **멀티 타임프레임 분석**: 5분봉 신호를 1시간봉, 4시간봉의 대추세 필터와 결합.
3.  **실거래 자동화 연동**: Webhook 기반의 트레이딩 자동 실행 엔진 구축.

---

**[작성자: Antigravity AI 코딩 어시스턴트]**
**[프로젝트: BTC Best Strategy Mining Engine v3]**
